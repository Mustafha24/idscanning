
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Barcode scanner</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/html5-qrcode/2.3.4/html5-qrcode.min.js"
      integrity="sha512-k/KAe4Yff9EUdYI5/IAHlwUswqeipP+Cp5qnrsUjTPCgl51La2/JhyyjNciztD7mWNKLSXci48m7cctATKfLlQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

      <!--<script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>-->
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
      <script src="https://kit.fontawesome.com/2d67abf6d8.js" crossorigin="anonymous"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
      <script >
    
          $(document).ready(()=>{
              
                     $.ajax({
                            url: 'check.php',
                            type: "POST",
                            datatype:'JSON',
                            success: function(data) {
                                data=JSON.parse(data)
                                var val=0,inval=0;
                                $.each(data,function(key,value){
                                    
                                      const pattern =/^([sS]{1}([19]{2}))|([oO]{1}([1]{1}[789]{1}|([20]{2}))|([0]{1}[0-9]{3}|1[0-1][0-9]{2}))$/gm

                                        if(pattern.test(value.ID_NUMBER)){
                                            // console.log(value.ID_NUMBER,'OK')
                                            val+=1
                                        }
                                        else{
                                            inval+=1
                                            console.log(value.ID_NUMBER,'INVALID')
                                        }
                                        
                                })
                                console.log("Valid: "+val+" "+"Invalid "+inval)
                            }
            })
  
       
        
       
})
      </script>
      <script>
          
          
      </script>
  </body>
</html>
